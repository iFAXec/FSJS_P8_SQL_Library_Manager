extends layout

block content
  h1= title
  p Welcome to the Public Library 

  form(method="get") 
    input(type="text", value=search, name="q", placeholder="Search a book...")
    button(type="submit", style= "margin-left:20px; padding:10px;") Search 

  p    
    a.button(href="/books/new") Create New Book
  table
    thead 
      tr 
        th Title 
        th Author 
        th Genre 
        th Year 
    tbody
      each book in books
        tr 
          td 
            a(href="/books/" + book.id) #{book.title}
          td #{book.author}
          td #{book.genre}
          td #{book.year}

  if (totalPages > 1)
    div.pagination 
      ul 
        li(class=(currentPage === 1 ? "disabled": ""))
          a(href=`?page=${prevPage}&limit=${limit}&q=${search}`) Previous
        each page in pages 
          li(class=(page===currentPage? "active": ""))   
            a(href=`?page=${page}&limit=${limit}&q=${search}`)= page 
        li(class=(currentPage === totalPages ? "disabled": ""))
          a(href=`?page=${nextPage}&limit=${limit}&q=${search}`) Next
          